<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WT GAME - Menu</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body onload="displayScore()">
    <div class="main-container">

        <div class="scores">
            <div id="idHighScore">HIGH SCORE:...00</div>
            <div id="idLastScore">Last Score:...00</div>
            <button onclick="document.location = 'info.html'" class="hide">- Info & Rules -</button>
        </div>

        <div>
            <button onclick="document.location = 'gameWT.html'" class="button">- START -</button>
        </div>

        <div>
            <select id="level" onchange="setLevel()">
                <option value="0">TRAINEE.....00</option>
                <option value="1" selected>BEGINNER....19</option>
                <option value="2">EASY........36</option>
                <option value="3">NORMAL......51</option>
                <option value="4">EXPERT......64</option>
                <option value="5">MASTERMIND..75</option>
            </select>
            <div class="select-icon">
                <svg focusable="false" viewBox="0 0 104 128" width="25" height="35" class="icon">
                    <path
                        d="m2e1 95a9 9 0 0 1 -9 9 9 9 0 0 1 -9 -9 9 9 0 0 1 9 -9 9 9 0 0 1 9 9zm0-3e1a9 9 0 0 1 -9 9 9 9 0 0 1 -9 -9 9 9 0 0 1 9 -9 9 9 0 0 1 9 9zm0-3e1a9 9 0 0 1 -9 9 9 9 0 0 1 -9 -9 9 9 0 0 1 9 -9 9 9 0 0 1 9 9zm14 55h68v1e1h-68zm0-3e1h68v1e1h-68zm0-3e1h68v1e1h-68z">
                    </path>
                </svg>
            </div>

        </div>
</body>

<script>
    function setLevel() {
        // Check browser support
        if (typeof (Storage) !== "undefined") {
            let currentLevel = document.getElementById("level").value;
            localStorage.setItem("currentLevel", currentLevel);
        } else {
            alert("Sorry, your browser does not support Web Storage...");
        }
    }

    function displayScore() {
        // Check browser support
        if (typeof (Storage) !== "undefined") {

            if (localStorage.getItem("lastScore") == null) localStorage.setItem("lastScore", 0)
            let lastScore = localStorage.getItem("lastScore");

            if (localStorage.getItem("highScore") == null) localStorage.setItem("highScore", 0)
            let hiScore = localStorage.getItem("highScore");
            if (lastScore > hiScore) localStorage.setItem("highScore", lastScore);

            if (localStorage.getItem("currentLevel") == null) localStorage.setItem("currentLevel", 1);
            document.getElementById("level").value = localStorage.getItem("currentLevel");

            // Retrieve
            if (hiScore < 10)
                document.getElementById("idHighScore").innerHTML = "HIGH SCORE:...0" + hiScore;
            else
                document.getElementById("idHighScore").innerHTML = "HIGH SCORE:..." + hiScore;

            if (lastScore < 10)
                document.getElementById("idLastScore").innerHTML = "Last Score:...0" + lastScore;
            else
                document.getElementById("idLastScore").innerHTML = "Last Score:..." + lastScore;

        } else {
            alert("Sorry, your browser does not support Web Storage...");
        }
    }

</script>

</html>